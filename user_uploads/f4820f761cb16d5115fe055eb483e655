import React, { useRef } from "react";
import { useSpring, animated } from "react-spring";
import {Background, ModalWrapper, ModalContent, CloseModalButton} from "../loginStyles/Modal";
import { Input } from "../loginStyles/Textbox";
import { InputC } from "../loginStyles/Checkbox";

export const Login = ({ showModal, setShowModal }) => {
  const modalRef = useRef();

  const animation = useSpring({
    config: {
      duration: 250,
    },
    opacity: showModal ? 1 : 0,
    transform: showModal ? `translateY(0%)` : `translateY(-100%)`,
  });

  const closeModal = (e) => {
    if (modalRef.current === e.target) {
      setShowModal(false);
    }
  };

  return (
    <>
      {showModal ? (
        <Background ref={modalRef} onClick={closeModal}>
          <animated.div style={animation}>
            <ModalWrapper login showModal={showModal}>
              <CloseModalButton
                aria-label="Close modal"
                onClick={() => setShowModal((prev) => !prev)}
              />
              <ModalContent>
                <form>
                  <h1>Sign-in</h1>
                  <div>
                    <label for="email">
                      <Input type="email" id="loginEmail" placeholder="Email" />
                    </label>
                  </div>
                  <div>
                    <label for="password">
                      <Input
                        type="password"
                        id="loginPassword"
                        placeholder="Password"
                      />
                    </label>
                  </div>
                  <div>
                    <label>
                      <InputC type="checkbox" value="" aria-label="checkbox" />{" "}
                      <span style={{ marginLeft: 8 }}>Remember Me</span>
                    </label>
                  </div>
                </form>
                <p>SmartFridge 2021-2021</p>
              </ModalContent>
              <ModalContent>
                <button>Log in</button>
              </ModalContent>
            </ModalWrapper>
          </animated.div>
        </Background>
      ) : null}
    </>
  );
};

/* . 
    import React, { useState } from "react";
    import { Login } from './components/Login';
    const [showModal, setShowModal] = useState(false)
    const openModal = () => {
        setShowModal(prev => !prev)
    }
    onClick={openModal}
*/